aws ec2 create-vpc â€”--cidr-block 172.16.0.0/16

aws ec2 describe-vpcs --vpc-ids vpc-0d19e8153b4d142ed

aws ec2 create-subnet --vpc-id vpc-0d19e8153b4d142ed --cidr-block 172.16.100.0/24 --availability-zone us-east-1a

aws ec2 describe-subnets --subnet-ids subnet-0e398e93c154e8757

aws ec2 create-network-interface --private-ip-address 172.16.100.99 --subnet-id subnet-0e398e93c154e8757

aws ec2 describe-network-interfaces --network-interface-ids eni-0863f88f670e8ea06

aws ec2 create-internet-gateway

aws ec2 attach-internet-gateway --internet-gateway-id igw-0312f81aa1ef24715 --vpc-id vpc-0d19e8153b4d142ed

aws ec2 describe-route-tables --filters Name=vpc-id,Values=vpc-0d19e8153b4d142ed

aws ec2 create-route --route-table-id rtb-097d8be97649e0584 --destination-cidr-block "0.0.0.0/0" --gateway-id igw-0312f81aa1ef24715

aws ec2 create-security-group --group-name "web-ssh" --description "Web and SSH traffic" --vpc-id vpc-0d19e8153b4d142ed

aws ec2 authorize-security-group-ingress --group-id sg-0f076306080ac2c91 --protocol "tcp" --cidr "0.0.0.0/0" --port "22"

aws ec2 authorize-security-group-ingress --group-id sg-0f076306080ac2c91 --protocol "tcp" --cidr "0.0.0.0/0" --port "80"

aws ec2 authorize-security-group-ingress --group-id sg-0f076306080ac2c91 --protocol "tcp" --cidr "0.0.0.0/0" --port "443"

aws ec2 describe-security-groups --group-id sg-0f076306080ac2c91

aws ec2 create-network-acl --vpc-id vpc-0d19e8153b4d142ed

aws ec2 create-network-acl-entry --ingress --cidr-block "0.0.0.0/0" --protocol "tcp" --port-range "From=22,To=22" --rule-action "allow" --network-acl-id "acl-052f05f358d96cfb3" --rule-number 70

aws ec2 create-network-acl-entry --ingress --cidr-block "0.0.0.0/0" --protocol "tcp" --port-range "From=3389,To=3389" --rule-action "allow" --network-acl-id "acl-052f05f358d96cfb3" --rule-number 80

aws ec2 describe-network-acls --network-acl-id "acl-052f05f358d96cfb3"

aws ec2 allocate-address

aws ec2 associate-address --allocation-id eipalloc-0e14547dac92e8a75 --network-interface-id eni-0863f88f670e8ea06

# Exercise 4.8

aws ec2 create-vpc --cidr-block 172.17.0.0/16

aws ec2 create-subnet --vpc-id vpc-08edadb7e52eedd37 --cidr-block 172.17.100.0/24 --availability-zone us-east-1b

aws ec2 create-transit-gateway

aws ec2 create-transit-gateway-vpc-attachment --transit-gateway-id "tgw-0fe8e470174ca0be8" --vpc-id "vpc-0d19e8153b4d142ed" --subnet-ids "subnet-0e398e93c154e8757"

aws ec2 create-transit-gateway-vpc-attachment --transit-gateway-id "tgw-0fe8e470174ca0be8" --vpc-id "vpc-08edadb7e52eedd37" --subnet-ids "subnet-08cce691ef4bfae40"

aws ec2 search-transit-gateway-routes --transit-gateway-route-table-id tgw-rtb-01e158d45848e8522 --filters "Name=type,Values=static,propagated"

aws ec2 create-route --route-table-id rtb-097d8be97649e0584 --destination-cidr-block "172.17.0.0/16" --transit-gateway-id tgw-0fe8e470174ca0be8

aws ec2 create-route --route-table-id rtb-01bbf401d3b503764 --destination-cidr-block "172.16.0.0/16" --transit-gateway-id tgw-0fe8e470174ca0be8

aws ec2 describe-route-tables --filters Name=route.transit-gateway-id,Values=tgw-0fe8e470174ca0be8

aws ec2 create-transit-gateway-route --destination-cidr-block 172.16.100.64/29 --transit-gateway-route-table-id tgw-rtb-01e158d45848e8522 --blackhole

aws ec2 delete-transit-gateway-vpc-attachment --transit-gateway-attachment-id tgw-attach-0421300408cf0a63b

aws ec2 delete-transit-gateway-vpc-attachment --transit-gateway-attachment-id tgw-attach-07cfbfa14a60cbce2

aws ec2 delete-transit-gateway --transit-gateway-id tgw-0fe8e470174ca0be8